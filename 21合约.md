# åˆçº¦

------

Cadence ä¸­çš„ åˆçº¦æ˜¯æ¥å£ã€ç»“æ„ã€èµ„æºã€æ•°æ®ï¼ˆå…¶çŠ¶æ€ï¼‰å’Œä»£ç ï¼ˆå…¶åŠŸèƒ½ï¼‰çš„ç±»å‹å®šä¹‰çš„é›†åˆï¼Œè¿™äº›ç±»å‹å®šä¹‰ä½äº Flow ä¸­å¸æˆ·çš„ åˆçº¦å­˜å‚¨åŒºåŸŸä¸­ã€‚

 åˆçº¦æ˜¯å¿…é¡»åœ¨ Cadence ä¸­å®šä¹‰è¿™äº›ç±»å‹çš„æ‰€æœ‰å¤åˆç±»å‹ï¼ˆå¦‚ç»“æ„ã€èµ„æºã€äº‹ä»¶å’Œæ¥å£ï¼‰çš„åœ°æ–¹ã€‚å› æ­¤ï¼Œå¦‚æœæœªåœ¨éƒ¨ç½²çš„ Cadence åˆçº¦ä¸­å®šä¹‰ï¼Œåˆ™ä¸èƒ½å­˜åœ¨è¿™äº›ç±»å‹çš„å¯¹è±¡ã€‚

å¯ä»¥ä½¿ç”¨[æˆæƒå¸æˆ·](https://docs.onflow.org/cadence/language/accounts)`contracts` å¯¹è±¡åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤åˆçº¦ã€‚æ­¤åŠŸèƒ½å°†åœ¨[ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»](https://docs.onflow.org/cadence/language/contracts/#deploying,-updating,-and-removing-contracts)

åˆçº¦æ˜¯ç±»å‹ã€‚å®ƒä»¬ç±»ä¼¼äºå¤åˆç±»å‹ï¼Œä½†ä¸ç»“æ„æˆ–èµ„æºçš„å­˜å‚¨æ–¹å¼ä¸åŒï¼Œå¹¶ä¸”ä¸èƒ½åƒèµ„æºæˆ–ç»“æ„ä¸€æ ·ç”¨ä½œå€¼ã€ å¤åˆ¶æˆ–ç§»åŠ¨ã€‚

 åˆçº¦ä¿ç•™åœ¨è´¦æˆ·çš„åˆçº¦å­˜å‚¨åŒºä¸­ï¼Œåªèƒ½ç”±è´¦æˆ·æ‰€æœ‰è€…ä½¿ç”¨ç‰¹æ®Šå‘½ä»¤æ·»åŠ ã€æ›´æ–°æˆ–åˆ é™¤ã€‚

åˆçº¦æ˜¯ä½¿ç”¨`contract`å…³é”®å­—å£°æ˜çš„ã€‚å…³é”®å­—åè·Ÿåˆçº¦åç§°ã€‚

```cadence
pub contract SomeContract {
    // ...
}
```

åˆçº¦ä¸èƒ½ç›¸äº’åµŒå¥—ã€‚

```cadence
pub contract Invalid {

    // æ— æ•ˆï¼š åˆçº¦ä¸èƒ½åµŒå¥—åœ¨ä»»ä½•å…¶ä»–ç±»å‹ä¸­ã€‚
    //
    pub contract Nested {
        // ...
    }
}
```

æœ€ç®€å•çš„ åˆçº¦å½¢å¼ä¹‹ä¸€å°±æ˜¯å…·æœ‰çŠ¶æ€å­—æ®µã€å‡½æ•°å’Œ`init`åˆå§‹åŒ–å­—æ®µçš„å‡½æ•°ï¼š

 

```cadence
pub contract HelloWorld {

    // åœ¨ HelloWorld ä¸­å£°æ˜ä¸€ä¸ªå­˜å‚¨çŠ¶æ€å­—æ®µ
    //
    pub let greeting: String

    // Declare a function that can be called by anyone
    // who imports the contract
    //å£°æ˜ä¸€ä¸ªæƒ³å¯¼å…¥ åˆçº¦çš„ä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨çš„å‡½æ•°
    pub fun hello(): String {
        return self.greeting
    }

    init() {
        self.greeting = "Hello World!"
    }
}
```

è¯¥åˆçº¦å¯ä»¥éƒ¨ç½²åˆ°ä¸€ä¸ªå¸æˆ·å¹¶æ°¸ä¹…å­˜åœ¨äº åˆçº¦å­˜å‚¨ä¸­ã€‚äº¤æ˜“å’Œå…¶ä»– åˆçº¦å¯ä»¥é€šè¿‡åœ¨äº¤æ˜“æˆ– åˆçº¦å®šä¹‰å¼€å§‹æ—¶å¯¼å…¥å®ƒä»¬æ¥ä¸ åˆçº¦äº¤äº’ã€‚

ä»»ä½•äººéƒ½å¯ä»¥`hello`é€šè¿‡ä»éƒ¨ç½²åˆ°çš„è´¦æˆ·ä¸­å¯¼å…¥åˆçº¦å¹¶ä½¿ç”¨å¯¼å…¥çš„å¯¹è±¡è°ƒç”¨ hello å‡½æ•°æ¥è°ƒç”¨ä¸Šè¿° åˆçº¦çš„å‡½æ•°ã€‚

 

```cadence
import HelloWorld from 0x42

// æ— æ•ˆï¼š åˆçº¦ä¸çŸ¥é“helloæ¥è‡ªå“ªé‡Œ
//
log(hello())        // é”™è¯¯

// æœ‰æ•ˆï¼šä½¿ç”¨å¯¼å…¥çš„ åˆçº¦å¯¹è±¡è°ƒç”¨helloåŠŸèƒ½
//
log(HelloWorld.hello())    // æ‰“å° "Hello World!"

// Valid: ä½¿ç”¨å¯¼å…¥çš„ åˆçº¦å¯¹è±¡è¯»å–é—®å€™è¯­åœºåœ°ã€‚
log(HelloWorld.greeting)   // æ‰“å° "Hello World!"

//æ— æ•ˆï¼š åˆçº¦åˆ›å»ºåæ— æ³•è°ƒç”¨initå‡½æ•°ã€‚
//
HelloWorld.init()    // Error
```

æ¯ä¸ªè´¦æˆ·å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„ åˆçº¦ï¼Œå®ƒä»¬å¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„æ•°æ®ã€‚è¿™æ„å‘³ç€ åˆçº¦å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„å­—æ®µã€å‡½æ•°å’Œç±»å‹å®šä¹‰ï¼Œä½†å®ƒä»¬å¿…é¡»åœ¨ åˆçº¦ä¸­ï¼Œè€Œä¸æ˜¯å¦ä¸€ä¸ªé¡¶çº§å®šä¹‰ã€‚

```cadence
// æ— æ•ˆï¼šé¡¶çº§å£°æ˜ä»…é™äº åˆçº¦æˆ– åˆçº¦æ¥å£ã€‚å› æ­¤ï¼Œæ‰€æœ‰è¿™äº›éƒ½å°†æ— æ•ˆ
// å¦‚æœå®ƒä»¬è¢«éƒ¨ç½²åˆ°è´¦æˆ· åˆçº¦å­˜å‚¨å› æ­¤éƒ¨ç½²å°†è¢«æ‹’ç»ã€‚
//
pub resource Vault {}
pub struct Hat {}
pub fun helloWorld(): String {}
let num: Int
```

 åˆçº¦çš„å¦ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯ åˆçº¦ä¸­å£°æ˜çš„èµ„æºå’Œäº‹ä»¶çš„å®ä¾‹åªèƒ½åœ¨åŒä¸€ åˆçº¦ä¸­å£°æ˜çš„å‡½æ•°æˆ–ç±»å‹ä¸­åˆ›å»º/å‘å‡ºã€‚

ä¸å¯èƒ½åœ¨ åˆçº¦ä¹‹å¤–åˆ›å»ºèµ„æºå’Œäº‹ä»¶çš„å®ä¾‹ã€‚

ä¸‹é¢çš„ åˆçº¦å®šä¹‰äº†ä¸€ä¸ªèµ„æºæ¥å£`Receiver`å’Œä¸€ä¸ª`Vault` å®ç°è¯¥æ¥å£çš„èµ„æºã€‚è¿™ä¸ªä¾‹å­çš„ç¼–å†™æ–¹å¼ï¼Œæ²¡æœ‰åŠæ³•åˆ›å»ºè¿™ä¸ªèµ„æºï¼Œæ‰€ä»¥å®ƒä¸å¯ç”¨ã€‚

```cadence
// æ— æ•ˆ
pub contract FungibleToken {

    pub resource interface Receiver {

        pub balance: Int

        pub fun deposit(from: @{Receiver}) {
            pre {
                from.balance > 0:
                    "Deposit balance needs to be positive!"
            }
            post {
                self.balance == before(self.balance) + before(from.balance):
                    "Incorrect amount removed"
            }
        }
    }

    pub resource Vault: Receiver {

        //è·Ÿè¸ªè´¦æˆ·ä»£å¸çš„æ€»ä½™é¢
        pub var balance: Int

        init(balance: Int) {
            self.balance = balance
        }

        // å–æ¬¾ä»é‡‘åº“ä½™é¢ä¸­å‡å»é‡‘é¢ï¼Œç„¶åè¿”å›ä¸€ä¸ªå‡å»ä½™é¢çš„é‡‘åº“å¯¹è±¡
        pub fun withdraw(amount: Int): @Vault {
            self.balance = self.balance - amount
            return <-create Vault(balance: amount)
        }

        // å­˜æ¬¾å°†ä¿é™©åº“å¯¹è±¡ä½œä¸ºå‚æ•°å¹¶æ·»åŠ å®ƒçš„ä½™é¢åˆ°è´¦æˆ·é‡‘åº“çš„ä½™é¢ï¼Œç„¶åé”€æ¯å‘é€çš„ä¿ç®¡åº“ï¼Œå› ä¸ºå…¶ä½™é¢å·²è¢«æ¶ˆè€—
        pub fun deposit(from: @{Receiver}) {
            self.balance = self.balance + from.balance
            destroy from
        }
    }
}
```

å¦‚æœç”¨æˆ·å°è¯•è¿è¡Œåˆ›å»ºè¯¥`Vault`ç±»å‹å®ä¾‹çš„äº‹åŠ¡ï¼Œåˆ™ç±»å‹æ£€æŸ¥å™¨å°†ä¸å…è®¸è¿™æ ·åšï¼Œå› ä¸ºåªæœ‰`FungibleToken`  åˆçº¦ä¸­çš„ä»£ç æ‰èƒ½åˆ›å»ºæ–°çš„`Vault`sã€‚

 

```cadence
import FungibleToken from 0x42

// æ— æ•ˆï¼šæ— æ³•åœ¨å¤–éƒ¨åˆ›å»º `Vault` ç±»å‹çš„å®ä¾‹å®šä¹‰`Vault`çš„ åˆçº¦
//
let newVault <- create FungibleToken.Vault(balance: 10)
```

 åˆçº¦å¿…é¡»å®šä¹‰ä¸€ä¸ªåˆ›å»ºæ–°`Vault`å®ä¾‹çš„å‡½æ•°ï¼Œ æˆ–è€…ä½¿ç”¨å®ƒçš„`init`å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹å¹¶å°†å…¶å­˜å‚¨åœ¨æ‰€æœ‰è€…çš„å¸æˆ·å­˜å‚¨ä¸­ã€‚

è¿™å¸¦æ¥äº† Cadence åˆçº¦çš„å¦ä¸€ä¸ªå…³é”®ç‰¹å¾ã€‚ åˆçº¦å¯ä»¥ä¸å…¶å¸æˆ·`storage`å’Œ`published`å¯¹è±¡äº¤äº’ä»¥å­˜å‚¨èµ„æºã€ç»“æ„å’Œå¼•ç”¨ã€‚ä»–ä»¬é€šè¿‡ä½¿ç”¨`self.account`åªèƒ½åœ¨åˆçº¦ä¸­è®¿é—®çš„ç‰¹æ®Šå¯¹è±¡æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚

æƒ³è±¡ä¸€ä¸‹ï¼Œè¿™äº›æ˜¯åœ¨ä¸Šé¢çš„`FungibleToken` åˆçº¦ä¸­å£°æ˜çš„ã€‚

 

```cadence
    pub fun createVault(initialBalance: Int): @Vault {
        return <-create Vault(balance: initialBalance)
    }

    init(balance: Int) {
        let vault <- create Vault(balance: 1000)
        self.account.save(<-vault, to: /storage/initialVault)
    }
```

ç°åœ¨ï¼Œä»»ä½•è´¦æˆ·éƒ½å¯ä»¥è°ƒç”¨`createVault` åˆçº¦ä¸­å£°æ˜çš„å‡½æ•°æ¥åˆ›å»º`Vault`å¯¹è±¡ã€‚æˆ–è€…æ‰€æœ‰è€…å¯ä»¥`withdraw`è‡ªå·±è°ƒç”¨è¯¥å‡½æ•°`Vault`å°†æ–°çš„ä¿é™©åº“å‘é€ç»™å…¶ä»–äººã€‚

 

```cadence
import FungibleToken from 0x42

// æœ‰æ•ˆï¼šé€šè¿‡è°ƒç”¨ åˆçº¦çš„åˆ›å»ºä¸€ä¸ª `Vault` ç±»å‹çš„å®ä¾‹`createVault` å‡½æ•°ã€‚
//
let newVault <- create FungibleToken.createVault(initialBalance: 10)
```

 åˆçº¦å…·æœ‰éšå¼å­—æ®µ`let account: Account`ï¼Œå®ƒä¹Ÿæ˜¯éƒ¨ç½² åˆçº¦çš„å¸æˆ·ã€‚è¿™ä½¿ åˆçº¦èƒ½å¤Ÿè¯»å–å’Œå†™å…¥å¸æˆ·çš„å­˜å‚¨ã€‚

## éƒ¨ç½²ã€æ›´æ–°å’Œåˆ é™¤åˆçº¦

ä¸ºäº†åœ¨ Cadence ä¸­ä½¿ç”¨ åˆçº¦ï¼Œéœ€è¦å°†å…¶éƒ¨ç½²åˆ°å¸æˆ·ä¸­ã€‚å¯ä»¥é€šè¿‡`contracts`å¯¹è±¡è®¿é—®å¸æˆ·çš„å·²éƒ¨ç½² åˆçº¦ã€‚

### å·²éƒ¨ç½²çš„ åˆçº¦

è´¦æˆ·å­˜å‚¨â€œéƒ¨ç½²çš„ åˆçº¦â€ï¼Œå³ åˆçº¦çš„ä»£ç ï¼š

 

```cadence
struct DeployedContract {
    let name: String
    let code: [UInt8]
}
```

æ³¨æ„ï¼Œè¿™ä¸æ˜¯å¯ä»¥é€šè¿‡å¯¼å…¥è·å–çš„ åˆçº¦å®ä¾‹ã€‚

### éƒ¨ç½²æ–° åˆçº¦

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹`add`åŠŸèƒ½å°†æ–° åˆçº¦éƒ¨ç½²åˆ°å¸æˆ·ï¼š

 

```cadence
fun add(
    name: String,
    code: [UInt8],
    ... contractInitializerArguments
): DeployedContract
```

å°†ç»™å®šçš„åˆçº¦æ·»åŠ åˆ°å¸æˆ·ä¸­ã€‚

è¯¥`code`å‚æ•°æ˜¯æºä»£ç çš„ UTF-8 ç¼–ç è¡¨ç¤ºã€‚ä»£ç å¿…é¡»åªåŒ…å«ä¸€ä¸ª åˆçº¦æˆ– åˆçº¦æ¥å£ï¼Œå¹¶ä¸”å¿…é¡»ä¸`name`å‚æ•°åŒåã€‚

ç»™å®šçš„æ‰€æœ‰é™„åŠ å‚æ•°éƒ½è¿›ä¸€æ­¥ä¼ é€’ç»™æ­£åœ¨éƒ¨ç½²çš„ åˆçº¦çš„åˆå§‹å€¼è®¾å®šé¡¹ã€‚

å¦‚æœè´¦æˆ·ä¸­å·²ç»å­˜åœ¨å…·æœ‰ç»™å®šåç§°çš„ åˆçº¦/ åˆçº¦æ¥å£ï¼Œå¦‚æœç»™å®šçš„ä»£ç æ²¡æœ‰å‡†ç¡®å£°æ˜ä¸€ä¸ª åˆçº¦æˆ– åˆçº¦æ¥å£ï¼Œæˆ–è€…ç»™å®šçš„åç§°ä¸ åˆçº¦/ åˆçº¦æ¥å£å£°æ˜çš„åç§°ä¸åŒ¹é…ï¼Œåˆ™å¤±è´¥ä»£ç ã€‚

è¿”å›[éƒ¨ç½²çš„åˆçº¦](https://docs.onflow.org/cadence/language/contracts/#deployed-contracts)ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾åº”éƒ¨ç½²ä»¥ä¸‹ åˆçº¦ä»£ç ï¼š

 

```cadence
pub contract Test {
    pub let message: String

    init(message: String) {
        self.message = message
    }
}
```

 åˆçº¦å¯ä»¥éƒ¨ç½²å¦‚ä¸‹ï¼š

 

```cadence
// ä½¿ç”¨å†…ç½®å‡½æ•°`decodeHex`å°†åå…­è¿›åˆ¶ç¼–ç çš„æºä»£ç è§£ç ä¸ºå­—èŠ‚æ•°ç»„ã€‚ï¼ˆçœç•¥å·...è¡¨ç¤ºå­—ç¬¦ä¸²çš„å‰©ä½™éƒ¨åˆ†ï¼‰
//
let code = "70756220636f6e...".decodeHex()

// `code` çš„ç±»å‹ä¸º `[UInt8]`

let signer: Account = ...
signer.contracts.add(
    name: "Test",
    code: code,
    message: "I'm a new contract in an existing account"
)
```

### æ›´æ–°å·²éƒ¨ç½²çš„åˆçº¦

> ğŸš§ çŠ¶æ€ï¼šæ›´æ–°åˆçº¦æ˜¯**å®éªŒæ€§çš„**ã€‚
>
> æ›´æ–° åˆçº¦ç›®å‰ä»…é™äºä¿æŒæ•°æ®ä¸€è‡´æ€§ã€‚åœ¨[åˆçº¦å¯æ›´æ–°æ€§](https://docs.onflow.org/cadence/language/contract-updatability)éƒ¨åˆ†é˜…è¯»æœ‰å…³æ›´æ–°åˆçº¦çš„æœ‰æ•ˆæ›´æ”¹å’Œé™åˆ¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ ã€‚

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹`update__experimental`å‡½æ•°æ›´æ–°å·²éƒ¨ç½²çš„ åˆçº¦ï¼š

 

```cadence
fun update__experimental(name: String, code: [UInt8]): DeployedContract
```

æ›´æ–°è´¦æˆ·ä¸­ åˆçº¦/ åˆçº¦æ¥å£çš„ä»£ç ã€‚

è¯¥`code`å‚æ•°æ˜¯æºä»£ç çš„ UTF-8 ç¼–ç è¡¨ç¤ºã€‚ä»£ç å¿…é¡»åªåŒ…å«ä¸€ä¸ªåˆçº¦æˆ–åˆçº¦æ¥å£ï¼Œå¹¶ä¸”å¿…é¡»ä¸`name`å‚æ•°åŒåã€‚

æ— éœ€å†æ¬¡è¿è¡Œè¯¥åˆçº¦/åˆçº¦æ¥å£çš„åˆå§‹åŒ–ã€‚å…¨å±€çŠ¶æ€ä¸­åˆçº¦å®ä¾‹ä¿æŒåŸæ ·ã€‚

å¦‚æœè´¦æˆ·ä¸­ä¸å­˜åœ¨å…·æœ‰ç»™å®šåç§°çš„ åˆçº¦/ åˆçº¦æ¥å£ï¼Œå¦‚æœç»™å®šçš„ä»£ç æ²¡æœ‰å‡†ç¡®å£°æ˜ä¸€ä¸ªåˆçº¦æˆ–åˆçº¦æ¥å£ï¼Œæˆ–è€…ç»™å®šçš„åç§°ä¸ä»£ç ä¸­çš„åˆçº¦/ åˆçº¦æ¥å£å£°æ˜çš„åç§°ä¸åŒ¹é…ï¼Œåˆ™å¤±è´¥è¿”å›æ›´æ–°åˆçº¦çš„[éƒ¨ç½²](https://docs.onflow.org/cadence/language/contracts/#deployed-contracts)åˆçº¦ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªåä¸ºçš„åˆçº¦`Test`å·²ç»éƒ¨ç½²åˆ°è´¦æˆ·ä¸­ï¼Œå¹¶ä¸”åº”è¯¥ä½¿ç”¨ä»¥ä¸‹ åˆçº¦ä»£ç è¿›è¡Œæ›´æ–°ï¼š

```cadence
pub contract Test {
    pub let message: String

    init(message: String) {
        self.message = message
    }
}
```

 åˆçº¦å¯ä»¥æ›´æ–°å¦‚ä¸‹ï¼š

```cadence
// ä½¿ç”¨å†…ç½®å‡½æ•°`decodeHex`å°†åå…­è¿›åˆ¶ç¼–ç çš„æºä»£ç è§£ç ä¸ºå­—èŠ‚æ•°ç»„ã€‚ï¼ˆçœç•¥å·...è¡¨ç¤ºå­—ç¬¦ä¸²çš„å‰©ä½™éƒ¨åˆ†ï¼‰
//
let code = "70756220636f6e...".decodeHex()

// `code` çš„ç±»å‹ä¸º `[UInt8]`

let signer: Account = ...
signer.contracts.update__experimental(name: "Test", code: code)
```

### è·å–å·²éƒ¨ç½²çš„åˆçº¦

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹`get`å‡½æ•°ä»å¸æˆ·ä¸­è·å–å·²éƒ¨ç½²çš„åˆçº¦ï¼š

```cadence
fun get(name: String): DeployedContract?
```

è¿”å›åœ¨å¸æˆ·ä¸­å…·æœ‰ç»™å®šåç§°çš„åˆçº¦/åˆçº¦æ¥å£çš„å·²[éƒ¨ç½²åˆçº¦](https://docs.onflow.org/cadence/language/contracts/#deployed-contracts)ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

`nil`å¦‚æœå¸æˆ·ä¸­ä¸å­˜åœ¨å…·æœ‰ç»™å®šåç§°çš„ åˆçº¦/ åˆçº¦æ¥å£ï¼Œåˆ™ è¿”å›ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªåä¸ºçš„ åˆçº¦`Test`éƒ¨ç½²åˆ°ä¸€ä¸ªè´¦æˆ·ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼æ£€ç´¢è¯¥åˆçº¦ï¼š

```cadence
let signer: Account = ...
let contract = signer.contracts.get(name: "Test")
```

### åˆ é™¤å·²éƒ¨ç½²çš„ åˆçº¦

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹`remove`å‡½æ•°ä»å¸æˆ·ä¸­åˆ é™¤å·²éƒ¨ç½²çš„ åˆçº¦ï¼š

 

```cadence
fun remove(name: String): DeployedContract?
```

ä»å…·æœ‰ç»™å®šåç§°çš„å¸æˆ·ä¸­åˆ é™¤åˆçº¦/åˆçº¦æ¥å£ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

è¿”å›å·²åˆ é™¤çš„å·²[éƒ¨ç½²åˆçº¦](https://docs.onflow.org/cadence/language/contracts/#deployed-contracts)ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

å¦‚æœå¸æˆ·ä¸­ä¸å­˜åœ¨å…·æœ‰ç»™å®šåç§°çš„ åˆçº¦/ åˆçº¦æ¥å£ï¼Œåˆ™ è¿”å›`nil`ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªåä¸ºçš„ åˆçº¦`Test`éƒ¨ç½²åˆ°ä¸€ä¸ªè´¦æˆ·ï¼Œå¯ä»¥ç§»é™¤è¯¥åˆçº¦ï¼š

```cadence
let signer: Account = ...
let contract = signer.contracts.remove(name: "Test")
```

##  åˆçº¦æ¥å£

åƒå¤åˆç±»å‹ä¸€æ ·ï¼Œ åˆçº¦å¯ä»¥æœ‰æ¥å£æ¥æŒ‡å®šå…³äºå®ƒä»¬çš„è¡Œä¸ºã€å®ƒä»¬çš„ç±»å‹å’Œå®ƒä»¬çš„ç±»å‹çš„è¡Œä¸ºçš„è§„åˆ™ã€‚

åˆçº¦æ¥å£å¿…é¡»å…¨å±€å£°æ˜ã€‚å£°æ˜ä¸èƒ½åµŒå¥—åœ¨å…¶ä»–ç±»å‹ä¸­ã€‚

å¦‚æœåå®šæ¥å£å£°æ˜äº†å…·ä½“ç±»å‹ï¼Œåˆ™å®ƒçš„å®ç°ä¹Ÿå¿…é¡»å£°æ˜ç¬¦åˆç±»å‹è¦æ±‚çš„ç›¸åŒå…·ä½“ç±»å‹ã€‚

å¦‚æœ åˆçº¦æ¥å£å£°æ˜äº†æ¥å£ç±»å‹ï¼Œåˆ™å®ç° åˆçº¦ä¸å¿…ä¹Ÿå®šä¹‰è¯¥æ¥å£ã€‚ä»–ä»¬å¯ä»¥é€šè¿‡è¯´æ¥å¼•ç”¨è¯¥åµŒå¥—æ¥å£`{ContractInterfaceName}.{NestedInterfaceName}`

```cadence
// å£°æ˜ä¸€ä¸ª åˆçº¦æ¥å£ï¼Œå£°æ˜ä¸€ä¸ªæ¥å£å’Œä¸€ä¸ªèµ„æºå¹¶éœ€è¦åœ¨åˆçº¦å®ç°ä¸­å®ç°è¯¥æ¥å£ã€‚
//
pub contract interface InterfaceExample {

    // å®ç°ä¸éœ€è¦å£°æ˜ thisï¼Œåº”å°†å…¶ç§°ä¸º InterfaceExample.NestedInterface
    //
    pub resource interface NestedInterface {}

    // å®ç°å¿…é¡»å£°æ˜è¿™ç§ç±»å‹
    //
    pub resource Composite: NestedInterface {}
}

pub contract ExampleContract: InterfaceExample {

    //  åˆçº¦ä¸éœ€è¦é‡æ–°å£°æ˜`NestedInterface`æ¥å£ï¼Œå› ä¸ºå®ƒå·²ç»åœ¨ åˆçº¦æ¥å£ä¸­å£°æ˜äº†
    // èµ„æºå¿…é¡»ä½¿ç”¨åç§°æ¥å¼•ç”¨èµ„æºæ¥å£è®¿é—®å®ƒçš„ åˆçº¦æ¥å£
    //
    pub resource Composite: InterfaceExample.NestedInterface {
    }
}
```