# å€¼å’Œç±»å‹

å€¼æ˜¯å¯¹è±¡ï¼Œä¾‹å¦‚å¸ƒå°”å€¼ã€æ•´æ•°æˆ–æ•°ç»„ã€‚å€¼æ˜¯æœ‰ç±»å‹çš„ã€‚

## å¸ƒå°”å€¼

`Bool`ç±»å‹åŒ…å«ä¸¤ä¸ªå¸ƒå°”å€¼`true`å’Œ`false`ã€‚

## æ•°å€¼

æ•°å­—å¯ä»¥æœ‰å¤šç§è¡¨ç¤ºå½¢å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°å­—è¢«å‡å®šä¸ºåè¿›åˆ¶ã€‚éåè¿›åˆ¶æ–‡å­—æœ‰ä¸€ä¸ªç‰¹å®šçš„å‰ç¼€ã€‚

| æ•°åˆ¶         | å­—é¦– | äººç‰©                                     |
| ------------ | ---- | ---------------------------------------- |
| **åè¿›åˆ¶**   | æ—    | ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ï¼ˆ`0`åˆ°`9`ï¼‰               |
| **äºŒè¿›åˆ¶**   | `0b` | ä¸€ä¸ªæˆ–å¤šä¸ªé›¶æˆ–ä¸€ï¼ˆ`0`æˆ–`1`ï¼‰             |
| **å…«è¿›åˆ¶**   | `0o` | åœ¨èŒƒå›´å†…çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—`0`åˆ°`7`         |
| **åå…­è¿›åˆ¶** | `0x` | ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—æˆ–å­—ç¬¦`a`åˆ°`f`ã€å°å†™æˆ–å¤§å†™ |



```cadence
// ä¸€ä¸ªåè¿›åˆ¶çš„æ•°å­—
//
1234567890  // is `1234567890`

// ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—
//
0b101010  // is `42`

// ä¸€ä¸ªå…«è¿›åˆ¶æ•°å­—
//
0o12345670  // is `2739128`

// ä¸€ä¸ªåå…­è¿›åˆ¶æ•°å­—
//
0x1234567890ABCabc  // is `1311768467294898876`

// Invalid(ä¸åˆæ³•çš„): ä¸æ”¯æŒçš„å‰ç¼€ 0z
//
0z0

// ä¸€ä¸ªä»¥0å¼€å¤´çš„åè¿›åˆ¶æ•°å­—ï¼Œè€Œä¸æ˜¯å…«è¿›åˆ¶ï¼
00123 // is `123`

// åœ¨åé¢æœ‰å‡ ä¸ª0çš„äºŒè¿›åˆ¶æ•°å­—
0b001000  // is `8`
```

åè¿›åˆ¶æ•°å­—å¯èƒ½åŒ…å«ä¸‹åˆ’çº¿ ( `_`) ä»¥åœ¨é€»è¾‘ä¸Šåˆ†éš”ç»„ä»¶ã€‚

```cadence
let largeNumber = 1_000_000

// Invalid: Value is not a number literal, but a variable.
let notNumber = _123
```

æ‰€æœ‰æ•°å­—ç³»ç»Ÿéƒ½å…è®¸ä½¿ç”¨ä¸‹åˆ’çº¿ã€‚

```cadence
let binaryNumber = 0b10_11_01
```

## æ•´æ•°

æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚å®ƒä»¬æœ‰*ç¬¦å·*ï¼ˆæ­£ã€é›¶æˆ–è´Ÿï¼‰æˆ–*æ— ç¬¦å·*ï¼ˆæ­£æˆ–é›¶ï¼‰ã€‚

æ£€æŸ¥ä¸Šæº¢å’Œä¸‹æº¢çš„æœ‰ç¬¦å·æ•´æ•°ç±»å‹æœ‰ä¸€ä¸ª`Int`å‰ç¼€ï¼Œå¯ä»¥è¡¨ç¤ºä»¥ä¸‹èŒƒå›´å†…çš„å€¼ï¼š

- `Int8`: âˆ’2^7 åˆ° 2^7 âˆ’ 1 (-128 åˆ° 127)
- `Int16`: âˆ’2^15 åˆ° 2^15 âˆ’ 1 (-32768 åˆ° 32767)
- `Int32`: âˆ’2^31 åˆ° 2^31 âˆ’ 1 (-2147483648 åˆ° 2147483647)
- `Int64`: âˆ’2^63 åˆ° 2^63 âˆ’ 1 (-9223372036854775808 åˆ° 9223372036854775807)
- `Int128`: âˆ’2^127 åˆ° 2^127 âˆ’ 1
- `Int256`: âˆ’2^255 åˆ° 2^255 âˆ’ 1

æ£€æŸ¥ä¸Šæº¢å’Œä¸‹æº¢çš„æ— ç¬¦å·æ•´æ•°ç±»å‹æœ‰ä¸€ä¸ª`UInt`å‰ç¼€ï¼Œå¯ä»¥è¡¨ç¤ºä»¥ä¸‹èŒƒå›´å†…çš„å€¼ï¼š

- `UInt8`: 0 åˆ° 2^8 âˆ’ 1 (255)
- `UInt16`: 0 åˆ° 2^16 âˆ’ 1 (65535)
- `UInt32`: 0 åˆ° 2^32 âˆ’ 1 (4294967295)
- `UInt64`: 0 åˆ° 2^64 âˆ’ 1 (18446744073709551615)
- `UInt128`: 0 åˆ° 2^128 âˆ’ 1
- `UInt256`: 0 åˆ° 2^256 âˆ’ 1

**ä¸**æ£€æŸ¥ä¸Šæº¢å’Œä¸‹æº¢ï¼ˆå³ç¯ç»•ï¼‰çš„æ— ç¬¦å·æ•´æ•°ç±»å‹å…·æœ‰`Word`å‰ç¼€å¹¶ä¸”å¯ä»¥è¡¨ç¤ºä»¥ä¸‹èŒƒå›´å†…çš„å€¼ï¼š

- `Word8`: 0 åˆ° 2^8 âˆ’ 1 (255)
- `Word16`: 0 åˆ° 2^16 âˆ’ 1 (65535)
- `Word32`: 0 åˆ° 2^32 âˆ’ 1 (4294967295)
- `Word64`: 0 åˆ° 2^64 âˆ’ 1 (18446744073709551615)

è¿™äº›ç±»å‹æ˜¯ç‹¬ç«‹çš„ç±»å‹ï¼Œå³ä¸æ˜¯å½¼æ­¤çš„å­ç±»å‹ã€‚

æœ‰å…³ä¸åŒæ•´æ•°ç±»å‹è¡Œä¸ºçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…å…³äº[ç®—æœ¯è¿ç®—ç¬¦](https://docs.onflow.org/cadence/language/operators#arithmetic)çš„éƒ¨åˆ†ã€‚

```cadence
// Declare a constant that has type `UInt8` and the value 10.
let smallNumber: UInt8 = 10
```

```cadence
// Invalid: negative literal cannot be used as an unsigned integer
//
let invalidNumber: UInt8 = -10
```

æ­¤å¤–ï¼Œ`Int`è¿˜æä¾›äº†ä»»æ„ç²¾åº¦æ•´æ•°ç±»å‹ã€‚

```cadence
let veryLargeNumber: Int = 10000000000000000000000000000000
```

[æ¨æ–­](https://docs.onflow.org/cadence/language/type-inference)æ•´æ•°æ–‡å­—å…·æœ‰ type `Int`ï¼Œæˆ–è€…å¦‚æœæ–‡å­—å‡ºç°åœ¨éœ€è¦æ˜¾å¼ç±»å‹çš„ä½ç½®ï¼Œä¾‹å¦‚åœ¨å…·æœ‰æ˜¾å¼ç±»å‹æ³¨é‡Šçš„å˜é‡å£°æ˜ä¸­ã€‚

```cadence
let someNumber = 123

// `someNumber` has type `Int`
```

è´Ÿæ•´æ•°ä»¥äºŒè¿›åˆ¶è¡¥ç è¡¨ç¤ºè¿›è¡Œç¼–ç ã€‚

æ•´æ•°ç±»å‹ä¸ä¼šè‡ªåŠ¨è½¬æ¢ã€‚å¿…é¡»æ˜¾å¼è½¬æ¢ç±»å‹ï¼Œè¿™å¯ä»¥é€šè¿‡è°ƒç”¨å…·æœ‰æ•´æ•°ç±»å‹çš„ç±»å‹çš„æ„é€ å‡½æ•°æ¥å®Œæˆã€‚

```cadence
let x: Int8 = 1
let y: Int16 = 2

// Invalid: the types of the operands, `Int8` and `Int16` are incompatible.
let z = x + y

// Explicitly convert `x` from `Int8` to `Int16`.
let a = Int16(x) + y

// `a` has type `Int16`

// Invalid: The integer literal is expected to be of type `UInt8`,
// but the large integer literal does not fit in the range of `UInt8`.
//
let b = x + 1000000000000000000000000
```

### æ•´æ•°å‡½æ•°

æ•´æ•°æœ‰å¤šä¸ªå¯ä»¥ä½¿ç”¨çš„å†…ç½®å‡½æ•°ã€‚

- 

  ```cadence
  fun toString(): String
  ```

  è¿”å›æ•´æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚

  ```cadence
  let answer = 42
  
  answer.toString()  // is "42"
  ```

- 

  ```cadence
  fun toBigEndianBytes(): [UInt8]
  ```

  `[UInt8]`ä»¥æ•´æ•°çš„å¤§ç«¯é¡ºåºè¿”å›å­—èŠ‚æ•°ç»„è¡¨ç¤ºå½¢å¼ ( )ã€‚

  ```cadence
  let largeNumber = 1234567890
  
  largeNumber.toBigEndianBytes()  // is `[73, 150, 2, 210]`
  ```

## å®šç‚¹æ•°

ğŸš§ çŠ¶æ€ï¼šç›®å‰åªæœ‰ 64 ä½å®½`Fix64`å’Œ`UFix64`ç±»å‹å¯ç”¨ã€‚æ›´å¤šå®šç‚¹æ•°ç±»å‹å°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­æ·»åŠ ã€‚

å®šç‚¹æ•°å¯ç”¨äºè¡¨ç¤ºå°æ•°å€¼ã€‚å®ƒä»¬åœ¨å°æ•°ç‚¹åæœ‰å›ºå®šçš„ä½æ•°ã€‚

å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯æŒ‰å› å­ç¼©æ”¾çš„æ•´æ•°ã€‚ä¾‹å¦‚ï¼Œå€¼ 1.23 å¯ä»¥è¡¨ç¤ºä¸º 1230ï¼Œç¼©æ”¾å› å­ä¸º 1/1000ã€‚ç›¸åŒç±»å‹çš„æ‰€æœ‰å€¼çš„æ¯”ä¾‹å› å­ç›¸åŒï¼Œå¹¶ä¸”åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ä¿æŒä¸å˜ã€‚

Cadence ä¸­çš„å®šç‚¹æ•°æœ‰ä¸€ä¸ª 10 æ¬¡å¹‚çš„æ¯”ä¾‹å› å­ï¼Œè€Œä¸æ˜¯ 2 æ¬¡å¹‚ï¼Œå³å®ƒä»¬æ˜¯åè¿›åˆ¶çš„ï¼Œè€Œä¸æ˜¯äºŒè¿›åˆ¶çš„ã€‚

æœ‰ç¬¦å·å®šç‚¹æ•°ç±»å‹å…·æœ‰å‰ç¼€`Fix`ï¼Œå…·æœ‰ä»¥ä¸‹å› å­ï¼Œå¹¶ä¸”å¯ä»¥è¡¨ç¤ºä»¥ä¸‹èŒƒå›´å†…çš„å€¼ï¼š

- `Fix64`ï¼šç³»æ•° 1/100,000,000ï¼›-92233720368.54775808 è‡³ 92233720368.54775807

æ— ç¬¦å·å®šç‚¹æ•°ç±»å‹å…·æœ‰å‰ç¼€`UFix`ï¼Œå…·æœ‰ä»¥ä¸‹å› å­ï¼Œå¹¶ä¸”å¯ä»¥è¡¨ç¤ºä»¥ä¸‹èŒƒå›´å†…çš„å€¼ï¼š

- `UFix64`ï¼šç³»æ•° 1/100,000,000ï¼›0.0 åˆ° 184467440737.09551615

### å®šç‚¹æ•°å‡½æ•°

å®šç‚¹æ•°å…·æœ‰å¤šä¸ªå¯ä»¥ä½¿ç”¨çš„å†…ç½®å‡½æ•°ã€‚

- 

  ```cadence
  fun toString(): String
  ```

  è¿”å›å®šç‚¹æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚

  ```cadence
  let fix = 1.23
  
  fix.toString()  // is "1.23000000"
  ```

- 

  ```cadence
  fun toBigEndianBytes(): [UInt8]
  ```

  `[UInt8]`ä»¥å®šç‚¹æ•°çš„å¤§ç«¯é¡ºåºè¿”å›å­—èŠ‚æ•°ç»„è¡¨ç¤ºå½¢å¼ ( )ã€‚

  ```cadence
  let fix = 1.23
  
  fix.toBigEndianBytes()  // is `[0, 0, 0, 0, 7, 84, 212, 192]`
  ```

## æœ€å°å€¼å’Œæœ€å¤§å€¼

æ‰€æœ‰æ•´æ•°å’Œå®šç‚¹æ•°ç±»å‹çš„æœ€å°å€¼å’Œæœ€å¤§å€¼å¯é€šè¿‡å­—æ®µ`min`å’Œ è·å¾—`max`ã€‚

ä¾‹å¦‚ï¼š

```cadence
let max = UInt8.max
// `max` is 255, the maximum value of the type `UInt8`
```

```cadence
let max = UFix64.max
// `max` is 184467440737.09551615, the maximum value of the type `UFix64`
```

## é¥±å’Œç®—æ³•

æ•´æ•°å’Œå®šç‚¹æ•°æ”¯æŒé¥±å’Œç®—æœ¯ï¼šç®—æœ¯è¿ç®—ï¼ˆä¾‹å¦‚åŠ æ³•æˆ–ä¹˜æ³•ï¼‰åœ¨æ•°å€¼è¾¹ç•Œå¤„é¥±å’Œè€Œä¸æ˜¯æº¢å‡ºã€‚

å¦‚æœè¿ç®—ç»“æœå¤§äºæ“ä½œæ•°ç±»å‹çš„æœ€å¤§å€¼ï¼Œåˆ™è¿”å›æœ€å¤§å€¼ã€‚å¦‚æœç»“æœä½äºæ“ä½œæ•°ç±»å‹çš„æœ€å°å€¼ï¼Œåˆ™è¿”å›æœ€å°å€¼ã€‚

é¥±å’ŒåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•å’Œé™¤æ³•ä½œä¸ºå¸¦æœ‰å‰ç¼€çš„å‡½æ•°æä¾›`saturating`ï¼š

- `Int8`, `Int16`, `Int32`, `Int64`, `Int128`, `Int256`, `Fix64`:
  - `saturatingAdd`
  - `saturatingSubtract`
  - `saturatingMultiply`
  - `saturatingDivide`
- `Int`ï¼š
  - None
- `UInt8`, `UInt16`, `UInt32`, `UInt64`, `UInt128`, `UInt256`, `UFix64`:
  - `saturatingAdd`
  - `saturatingSubtract`
  - `saturatingMultiply`
- `UInt`ï¼š
  - `saturatingSubtract`

```cadence
let a: UInt8 = 200
let b: UInt8 = 100
let result = a.saturatingAdd(b)
// `result` is 255, the maximum value of the type `UInt8`
```

## æµ®ç‚¹æ•°å­—

æ²¡æœ‰å¯¹æµ®ç‚¹æ•°çš„æ”¯æŒã€‚

æ™ºèƒ½åˆçº¦ä¸é€‚ç”¨äºå…·æœ‰è¯¯å·®èŒƒå›´çš„å€¼ï¼Œå› æ­¤æµ®ç‚¹è¿ç®—åœ¨è¿™é‡Œä¸åˆé€‚ã€‚

ç›¸åï¼Œè¯·è€ƒè™‘ä½¿ç”¨[å®šç‚¹æ•°](https://docs.onflow.org/cadence/language/values-and-types/#fixed-point-numbers)ã€‚

## åœ°å€

ç±»å‹`Address`ä»£è¡¨ä¸€ä¸ªåœ°å€ã€‚åœ°å€æ˜¯å¤§å°ä¸º 64 ä½ï¼ˆ8 å­—èŠ‚ï¼‰çš„æ— ç¬¦å·æ•´æ•°ã€‚åå…­è¿›åˆ¶æ•´æ•°æ–‡å­—å¯ç”¨äºåˆ›å»ºåœ°å€å€¼ã€‚



```cadence
// Declare a constant that has type `Address`.
//
let someAddress: Address = 0x436164656E636521

// Invalid: Initial value is not compatible with type `Address`,
// it is not a number.
//
let notAnAddress: Address = ""

// Invalid: Initial value is not compatible with type `Address`.
// The integer literal is valid, however, it is larger than 64 bits.
//
let alsoNotAnAddress: Address = 0x436164656E63652146757265766572
```

æ•´æ•°æ–‡å­—ä¸è¢«æ¨æ–­ä¸ºåœ°å€ã€‚

```cadence
// Declare a number. Even though it happens to be a valid address,
// it is not inferred as it.
//
let aNumber = 0x436164656E636521

// `aNumber` has type `Int`
```

### åœ°å€å‡½æ•°

åœ°å€å…·æœ‰å¤šä¸ªæ‚¨å¯ä»¥ä½¿ç”¨çš„å†…ç½®å‡½æ•°ã€‚

- 

  ```cadence
  fun toString(): String
  ```

  

  è¿”å›åœ°å€çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚

  ```cadence
  let someAddress: Address = 0x436164656E636521
  
  someAddress.toString()  // is "0x436164656E636521"
  ```

- 

  ```cadence
  fun toBytes(): [UInt8]
  ```

  è¿”å›åœ°å€çš„å­—èŠ‚æ•°ç»„è¡¨ç¤º ( `[UInt8]`)ã€‚

  ```cadence
  let someAddress: Address = 0x436164656E636521
  
  someAddress.toBytes()  // is `[67, 97, 100, 101, 110, 99, 101, 33]`
  ```

## AnyStruct å’Œ AnyResource

`AnyStruct` æ˜¯æ‰€æœ‰éèµ„æºç±»å‹çš„é¡¶çº§ç±»å‹ï¼Œå³æ‰€æœ‰éèµ„æºç±»å‹éƒ½æ˜¯å®ƒçš„å­ç±»å‹ã€‚

`AnyResource` æ˜¯æ‰€æœ‰èµ„æºç±»å‹çš„é¡¶çº§ç±»å‹ã€‚

```cadence
// Declare a variable that has the type `AnyStruct`.
// Any non-resource typed value can be assigned to it, for example an integer,
// but not resource-typed values.
//
var someStruct: AnyStruct = 1

// Assign a value with a different non-resource type, `Bool`.
someStruct = true

// Declare a structure named `TestStruct`, create an instance of it,
// and assign it to the `AnyStruct`-typed variable
//
struct TestStruct {}

let testStruct = TestStruct()

someStruct = testStruct

// Declare a resource named `TestResource`

resource Test {}

// Declare a variable that has the type `AnyResource`.
// Any resource-typed value can be assigned to it,
// but not non-resource typed values.
//
var someResource: @AnyResource <- create Test()

// Invalid: Resource-typed values can not be assigned
// to `AnyStruct`-typed variables
//
someStruct <- create Test()

// Invalid: Non-resource typed values can not be assigned
// to `AnyResource`-typed variables
//
someResource = 1
```

ä½†æ˜¯ï¼Œä½¿ç”¨`AnyStruct`å¹¶ä¸”`AnyResource`ä¸ä¼šé€‰æ‹©é€€å‡ºç±»å‹æ£€æŸ¥ã€‚åœ¨è¿™äº›ç±»å‹ä¸Šè®¿é—®å­—æ®µå’Œè°ƒç”¨å‡½æ•°æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å­—æ®µå’Œå‡½æ•°ã€‚

```cadence
// Declare a variable that has the type `AnyStruct`.
// The initial value is an integer,
// but the variable still has the explicit type `AnyStruct`.
//
let a: AnyStruct = 1

// Invalid: Operator cannot be used for an `AnyStruct` value (`a`, left-hand side)
// and an `Int` value (`2`, right-hand side).
//
a + 2
```

`AnyStruct`å¹¶ä¸”`AnyResource`å¯ä»¥åƒå…¶ä»–ç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼Œå®ƒä»¬å¯ä»¥æ˜¯[æ•°ç»„](https://docs.onflow.org/cadence/language/values-and-types/#arrays)çš„å…ƒç´ ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯[å¯é€‰ç±»å‹](https://docs.onflow.org/cadence/language/values-and-types/#optionals) çš„å…ƒç´ [ç±»å‹](https://docs.onflow.org/cadence/language/values-and-types/#optionals)ã€‚

```cadence
// Declare a variable that has the type `[AnyStruct]`,
// i.e. an array of elements of any non-resource type.
//
let anyValues: [AnyStruct] = [1, "2", true]

// Declare a variable that has the type `AnyStruct?`,
// i.e. an optional type of any non-resource type.
//
var maybeSomething: AnyStruct? = 42

maybeSomething = "twenty-four"

maybeSomething = nil
```

`AnyStruct`ä¹Ÿæ˜¯æ‰€æœ‰éèµ„æºå¯é€‰ç±»å‹`AnyResource`çš„è¶…ç±»å‹ï¼Œæ˜¯æ‰€æœ‰èµ„æºå¯é€‰ç±»å‹çš„è¶…ç±»å‹ã€‚



```cadence
let maybeInt: Int? = 1
let anything: AnyStruct = maybeInt
```

[æœ‰æ¡ä»¶çš„å‘ä¸‹è½¬æ¢](https://docs.onflow.org/cadence/language/operators#conditional-downcasting-operator)å…è®¸èƒè¿«å…·æœ‰ç±»å‹çš„å€¼`AnyStruct`æˆ–`AnyResource`åˆ°å…¶åŸå§‹å‹èƒŒã€‚

## å¯é€‰

Optionals æ˜¯å¯ä»¥è¡¨ç¤ºæ²¡æœ‰å€¼çš„å€¼ã€‚Optionals æœ‰ä¸¤ç§æƒ…å†µï¼šè¦ä¹ˆæœ‰å€¼ï¼Œè¦ä¹ˆä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚

å¯é€‰ç±»å‹æ˜¯ä½¿ç”¨`?`å¦ä¸€ç§ç±»å‹çš„åç¼€å£°æ˜çš„ã€‚ä¾‹å¦‚ï¼Œ`Int`æ˜¯ä¸€ä¸ªéå¯é€‰æ•´æ•°ï¼Œå¹¶ä¸”`Int?`æ˜¯ä¸€ä¸ªå¯é€‰æ•´æ•°ï¼Œå³è¦ä¹ˆæ²¡æœ‰ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚

ä»£è¡¨æ— çš„å€¼æ˜¯`nil`ã€‚

```cadence
// Declare a constant which has an optional integer type,
// with nil as its initial value.
//
let a: Int? = nil

// Declare a constant which has an optional integer type,
// with 42 as its initial value.
//
let b: Int? = 42

// Invalid: `b` has type `Int?`, which does not support arithmetic.
b + 23

// Invalid: Declare a constant with a non-optional integer type `Int`,
// but the initial value is `nil`, which in this context has type `Int?`.
//
let x: Int = nil
```

å¯ä»¥ä¸ºä»»ä½•å€¼åˆ›å»ºå¯é€‰é¡¹ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸ºæ–‡å­—ã€‚

```cadence
// Declare a constant which has a non-optional integer type,
// with 1 as its initial value.
//
let x = 1

// Declare a constant which has an optional integer type.
// An optional with the value of `x` is created.
//
let y: Int? = x

// Declare a variable which has an optional any type, i.e. the variable
// may be `nil`, or any other value.
// An optional with the value of `x` is created.
//
var z: AnyStruct? = x
```

éå¯é€‰ç±»å‹æ˜¯å…¶å¯é€‰ç±»å‹çš„å­ç±»å‹ã€‚

```cadence
var a: Int? = nil
let b = 2
a = b

// `a` is `2`
```

å¯é€‰ç±»å‹å¯èƒ½åŒ…å«åœ¨å…¶ä»–ç±»å‹ä¸­ï¼Œä¾‹å¦‚[æ•°ç»„](https://docs.onflow.org/cadence/language/values-and-types/#arrays)ç”šè‡³å¯é€‰ç±»å‹ã€‚

```cadence
// Declare a constant which has an array type of optional integers.
let xs: [Int?] = [1, nil, 2, nil]

// Declare a constant which has a double optional type.
//
let doubleOptional: Int?? = nil
```

### ç©ºåˆè¿ç®—ç¬¦

`??`å¦‚æœå¯é€‰å€¼åŒ…å«å€¼ï¼Œåˆ™nil åˆå¹¶è¿ç®—ç¬¦è¿”å›å¯é€‰å€¼ï¼Œå¦‚æœå¯é€‰å€¼æ²¡æœ‰å€¼ï¼Œå³å¯é€‰å€¼æ˜¯ ï¼Œåˆ™è¿”å›æ›¿ä»£å€¼`nil`ã€‚

å¦‚æœå·¦ä¾§éé›¶ï¼Œåˆ™ä¸è¯„ä¼°å³ä¾§ã€‚

```cadence
// Declare a constant which has an optional integer type
//
let a: Int? = nil

// Declare a constant with a non-optional integer type,
// which is initialized to `a` if it is non-nil, or 42 otherwise.
//
let b: Int = a ?? 42
// `b` is 42, as `a` is nil
```

é›¶åˆå¹¶è¿ç®—ç¬¦åªèƒ½åº”ç”¨äºå…·æœ‰å¯é€‰ç±»å‹çš„å€¼ã€‚



```cadence
// Declare a constant with a non-optional integer type.
//
let a = 1

// Invalid: nil-coalescing operator is applied to a value which has a non-optional type
// (a has the non-optional type `Int`).
//
let b = a ?? 2
```



```cadence
// Invalid: nil-coalescing operator is applied to a value which has a non-optional type
// (the integer literal is of type `Int`).
//
let c = 1 ?? 2
```

è¿ç®—ç¬¦å³ä¾§çš„ç±»å‹ï¼ˆæ›¿ä»£å€¼ï¼‰å¿…é¡»æ˜¯å·¦ä¾§ç±»å‹çš„å­ç±»å‹ï¼Œå³è¿ç®—ç¬¦å³ä¾§å¿…é¡»æ˜¯ä¸ç±»å‹åŒ¹é…çš„éå¯é€‰æˆ–å¯é€‰ç±»å‹å·¦ä¾§çš„ã€‚



```cadence
// Declare a constant with an optional integer type.
//
let a: Int? = nil
let b: Int? = 1
let c = a ?? b
// `c` is `1` and has type `Int?`

// Invalid: nil-coalescing operator is applied to a value of type `Int?`,
// but the alternative has type `Bool`.
//
let d = a ?? false
```

### å¼ºåˆ¶å±•å¼€ ( `!`)

force-unwrap æ“ä½œç¬¦ ( `!`) å¦‚æœå®ƒåŒ…å«ä¸€ä¸ªå€¼ï¼Œåˆ™è¿”å›ä¸€ä¸ªå¯é€‰é¡¹ä¸­çš„å€¼ï¼Œæˆ–è€…å¦‚æœå¯é€‰é¡¹æ²¡æœ‰å€¼ï¼Œå³å¯é€‰å€¼æ˜¯ ï¼Œåˆ™ææ…Œå¹¶ä¸­æ­¢æ‰§è¡Œ`nil`ã€‚



```cadence
// Declare a constant which has an optional integer type
//
let a: Int? = nil

// Declare a constant with a non-optional integer type,
// which is initialized to `a` if `a` is non-nil.
// If `a` is nil, the program aborts.
//
let b: Int = a!
// The program aborts because `a` is nil.

// Declare another optional integer constant
let c: Int? = 3

// Declare a non-optional integer
// which is initialized to `c` if `c` is non-nil.
// If `c` is nil, the program aborts.
let d: Int = c!
// `d` is initialized to 3 because c isn't nil.
```

force-unwrap è¿ç®—ç¬¦åªèƒ½åº”ç”¨äºå…·æœ‰å¯é€‰ç±»å‹çš„å€¼ã€‚



```cadence
// Declare a constant with a non-optional integer type.
//
let a = 1

// Invalid: force-unwrap operator is applied to a value which has a
// non-optional type (`a` has the non-optional type `Int`).
//
let b = a!
```



```cadence
// Invalid: The force-unwrap operator is applied
// to a value which has a non-optional type
// (the integer literal is of type `Int`).
//
let c = 1!
```

### åŠ›èµ‹å€¼è¿ç®—ç¬¦ ( `<-!`)

`<-!`å¦‚æœå˜é‡ä¸ºé›¶ï¼Œåˆ™å¼ºåˆ¶èµ‹å€¼è¿ç®—ç¬¦ ( ) å°†èµ„æºç±»å‹å€¼åˆ†é…ç»™å¯é€‰ç±»å‹å˜é‡ã€‚å¦‚æœåˆ†é…ç»™çš„å˜é‡éé›¶ï¼Œåˆ™ç¨‹åºçš„æ‰§è¡Œä¸­æ­¢ã€‚

force-assignment è¿ç®—ç¬¦ä»…ç”¨äº [èµ„æºç±»å‹](https://docs.onflow.org/cadence/language/composite-types#resources)å’Œç§»åŠ¨è¿ç®—ç¬¦ ( `<-`)ï¼Œè¿™åœ¨æœ¬æ–‡æ¡£çš„èµ„æºéƒ¨åˆ†è¿›è¡Œäº†ä»‹ç»ã€‚

### æ¡ä»¶å‘ä¸‹è½¬æ¢è¿ç®—ç¬¦

æ¡ä»¶å‘ä¸‹è½¬æ¢è¿ç®—ç¬¦`as?`å¯ç”¨äºå°†å€¼è½¬æ¢ä¸ºç±»å‹ã€‚è¿ç®—ç¬¦è¿”å›ä¸€ä¸ªå¯é€‰çš„ã€‚å¦‚æœè¯¥å€¼çš„ç±»å‹æ˜¯åº”å¼ºåˆ¶è½¬æ¢ä¸ºç»™å®šç±»å‹çš„å­ç±»å‹ï¼Œåˆ™è¿ç®—ç¬¦å°†å€¼ä½œä¸ºç»™å®šç±»å‹è¿”å›ï¼Œå¦åˆ™ç»“æœä¸º`nil`ã€‚

å¼ºåˆ¶è½¬æ¢å’Œæ£€æŸ¥æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œçš„ï¼Œå³æ‰§è¡Œç¨‹åºæ—¶ï¼Œè€Œä¸æ˜¯é™æ€æ‰§è¡Œçš„ï¼Œå³æ£€æŸ¥ç¨‹åºæ—¶ã€‚



```cadence
// Declare a constant named `something` which has type `AnyStruct`,
// with an initial value which has type `Int`.
//
let something: AnyStruct = 1

// Conditionally downcast the value of `something` to `Int`.
// The cast succeeds, because the value has type `Int`.
//
let number = something as? Int
// `number` is `1` and has type `Int?`

// Conditionally downcast the value of `something` to `Bool`.
// The cast fails, because the value has type `Int`,
// and `Bool` is not a subtype of `Int`.
//
let boolean = something as? Bool
// `boolean` is `nil` and has type `Bool?`
```

å‘ä¸‹è½¬æ¢é€‚ç”¨äºåµŒå¥—ç±»å‹ï¼ˆä¾‹å¦‚æ•°ç»„ï¼‰ã€æ¥å£ï¼ˆå¦‚æœ[èµ„æº](https://docs.onflow.org/cadence/language/composite-types#resources)æ¥å£ä¸æ˜¯å…·ä½“èµ„æºï¼‰å’Œé€‰é¡¹ã€‚



```cadence
// Declare a constant named `values` which has type `[AnyStruct]`,
// i.e. an array of arbitrarily typed values.
//
let values: [AnyStruct] = [1, true]

let first = values[0] as? Int
// `first` is `1` and has type `Int?`

let second = values[1] as? Bool
// `second` is `true` and has type `Bool?`
```

## ç»ä¸

`Never`æ˜¯åº•å±‚ç±»å‹ï¼Œå³å®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚æ²¡æœ‰å…·æœ‰ type çš„å€¼`Never`ã€‚ `Never`å¯ä»¥ç”¨ä½œæ°¸è¿œä¸ä¼šæ­£å¸¸è¿”å›çš„å‡½æ•°çš„è¿”å›ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯å‡½æ•°çš„è¿”å›ç±»å‹[`panic`](https://docs.onflow.org/cadence/language/built-in-functions#panic)ã€‚



```cadence
// Declare a function named `crashAndBurn` which will never return,
// because it calls the function named `panic`, which never returns.
//
fun crashAndBurn(): Never {
    panic("An unrecoverable error occurred")
}

// Invalid: Declare a constant with a `Never` type, but the initial value is an integer.
//
let x: Never = 1

// Invalid: Declare a function which returns an invalid return value `nil`,
// which is not a value of type `Never`.
//
fun returnNever(): Never {
    return nil
}
```

## å­—ç¬¦ä¸²å’Œå­—ç¬¦

å­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„é›†åˆã€‚å­—ç¬¦ä¸²æœ‰ç±»å‹`String`ï¼Œå­—ç¬¦æœ‰ç±»å‹`Character`ã€‚å­—ç¬¦ä¸²å¯ç”¨äºä»¥ç¬¦åˆ Unicode çš„æ–¹å¼å¤„ç†æ–‡æœ¬ã€‚å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€‚

å­—ç¬¦ä¸²å’Œå­—ç¬¦æ–‡å­—ç”¨åŒå¼•å· ( `"`)æ‹¬èµ·æ¥ã€‚



```cadence
let someString = "Hello, world!"
```

å­—ç¬¦ä¸²æ–‡å­—å¯èƒ½åŒ…å«è½¬ä¹‰åºåˆ—ã€‚è½¬ä¹‰åºåˆ—ä»¥åæ–œæ  ( `\`)å¼€å¤´ï¼š

- `\0`: ç©ºå­—ç¬¦
- `\\`: åæ–œæ 
- `\t`: æ°´å¹³æ ‡ç­¾
- `\n`: æ¢è¡Œ
- `\r`: å›è½¦
- `\"`: åŒå¼•å·
- `\'`: å•å¼•å·
- `\u`: ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼Œå†™æˆ`\u{x}`ï¼Œå…¶ä¸­`x`1-8 ä½åå…­è¿›åˆ¶æ•°éœ€è¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ Unicode æ ‡é‡å€¼ï¼Œå³åœ¨ 0 åˆ° 0xD7FF å’Œ 0xE000 åˆ° 0x10FFFF çš„èŒƒå›´å†…



```cadence
// Declare a constant which contains two lines of text
// (separated by the line feed character `\n`), and ends
// with a thumbs up emoji, which has code point U+1F44D (0x1F44D).
//
let thumbsUpText =
    "This is the first line.\nThis is the second line with an emoji: \u{1F44D}"
```

è¯¥ç±»å‹`Character`è¡¨ç¤ºå•ä¸ªäººç±»å¯è¯»çš„å­—ç¬¦ã€‚å­—ç¬¦æ˜¯æ‰©å±•çš„å­—ç´ ç°‡ï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ª Unicode æ ‡é‡ç»„æˆã€‚

ä¾‹å¦‚ï¼Œå•ä¸ªå­—ç¬¦`Ã¼`å¯ä»¥åœ¨ Unicode ä¸­ä»¥å¤šç§æ–¹å¼è¡¨ç¤ºã€‚é¦–å…ˆï¼Œå®ƒå¯ä»¥ç”±å•ä¸ª Unicode æ ‡é‡å€¼`Ã¼` ï¼ˆâ€œLATIN SMALL LETTER U WITH DIAERESISâ€ï¼Œä»£ç ç‚¹ U+00FCï¼‰è¡¨ç¤ºã€‚å…¶æ¬¡ï¼Œç›¸åŒçš„å•ä¸ªå­—ç¬¦å¯ä»¥ç”±ä¸¤ä¸ª Unicode æ ‡é‡å€¼è¡¨ç¤ºï¼šï¼ˆ `u`â€œLATIN SMALL LETTER Uâ€ï¼Œä»£ç ç‚¹ U+0075ï¼‰å’Œâ€œCOMBINING DIAERESISâ€ï¼ˆä»£ç ç‚¹ U+0308ï¼‰ã€‚ç»„åˆ Unicode æ ‡é‡å€¼åº”ç”¨äºå®ƒä¹‹å‰çš„æ ‡é‡ï¼Œè¿™å°† a`u`å˜æˆ a `Ã¼`ã€‚

å°½ç®¡å¦‚æ­¤ï¼Œè¿™ä¸¤ç§å˜ä½“éƒ½ä»£è¡¨ç›¸åŒçš„äººç±»å¯è¯»å­—ç¬¦`Ã¼`ã€‚



```cadence
let singleScalar: Character = "\u{FC}"
// `singleScalar` is `Ã¼`
let twoScalars: Character = "\u{75}\u{308}"
// `twoScalars` is `Ã¼`
```

å°†å¤šä¸ª Unicode æ ‡é‡å€¼å‘ˆç°ä¸ºå•ä¸ªäººç±»å¯è¯»å­—ç¬¦çš„å¦ä¸€ä¸ªç¤ºä¾‹æ˜¯æ ‡å¿—è¡¨æƒ…ç¬¦å·ã€‚è¿™äº›è¡¨æƒ…ç¬¦å·ç”±ä¸¤ä¸ªâ€œåŒºåŸŸæŒ‡ç¤ºç¬¦ç¬¦å·å­—æ¯â€Unicode æ ‡é‡å€¼ç»„æˆã€‚



```cadence
// Declare a constant for a string with a single character, the emoji
// for the Canadian flag, which consists of two Unicode scalar values:
// - REGIONAL INDICATOR SYMBOL LETTER C (U+1F1E8)
// - REGIONAL INDICATOR SYMBOL LETTER A (U+1F1E6)
//
let canadianFlag: Character = "\u{1F1E8}\u{1F1E6}"
// `canadianFlag` is `ğŸ‡¨ğŸ‡¦`
```

### å­—ç¬¦ä¸²å­—æ®µå’Œå‡½æ•°

å­—ç¬¦ä¸²æœ‰å¤šä¸ªå¯ä»¥ä½¿ç”¨çš„å†…ç½®å‡½æ•°ï¼š

- 

  ```cadence
  let length: Int
  ```

  

  ä»¥æ•´æ•°å½¢å¼è¿”å›å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°ã€‚

  

  ```cadence
  let example = "hello"
  
  // Find the number of elements of the string.
  let length = example.length
  // `length` is `5`
  ```

- 

  ```cadence
  let utf8: [UInt8]
  ```

  

  UTF-8 ç¼–ç çš„å­—èŠ‚æ•°ç»„

  

  ```cadence
  let flowers = "Flowers \u{1F490}"
  let bytes = flowers.utf8
  // `bytes` is `[70, 108, 111, 119, 101, 114, 115, 32, 240, 159, 146, 144]`
  ```

- 

  ```cadence
  fun concat(_ other: String): String
  ```

  

  å°†å­—ç¬¦ä¸²è¿æ¥`other`åˆ°åŸå§‹å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œä½†ä¸ä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚æ­¤å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå…¶é•¿åº¦æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä½œä¸ºå‚æ•°ç»™å‡ºçš„å­—ç¬¦ä¸²é•¿åº¦ä¹‹å’Œã€‚

  

  ```cadence
  let example = "hello"
  let new = "world"
  
  // Concatenate the new string onto the example string and return thenew string.
  let helloWorld = example.concat(new)
  // `helloWorld` is now `"helloworld"`
  ```

- 

  ```cadence
  fun slice(from: Int, upTo: Int): String
  ```

  

  è¿”å›ç»™å®šå­—ç¬¦ä¸²ä¸­ä»å¼€å§‹ç´¢å¼•`from`åˆ°ä½†ä¸åŒ…æ‹¬ç»“æŸç´¢å¼•çš„å­—ç¬¦çš„å­—ç¬¦ä¸²åˆ‡ç‰‡`upTo`ã€‚æ­¤å‡½æ•°åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º çš„æ–°å­—ç¬¦ä¸²`upTo - from`ã€‚å®ƒä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªå‚æ•°è¶…å‡ºå­—ç¬¦ä¸²çš„è¾¹ç•Œï¼Œåˆ™å‡½æ•°å°†å¤±è´¥ã€‚

  

  ```cadence
  let example = "helloworld"
  
  // Create a new slice of part of the original string.
  let slice = example.slice(from: 3, upTo: 6)
  // `slice` is now `"lowo"`
  
  // Run-time error: Out of bounds index, the program aborts.
  let outOfBounds = example.slice(from: 2, upTo: 10)
  ```

- 

  ```cadence
  fun decodeHex(): [UInt8]
  ```

  

  è¿”å›ä¸€ä¸ªåŒ…å«ç”±ç»™å®šåå…­è¿›åˆ¶å­—ç¬¦ä¸²è¡¨ç¤ºçš„å­—èŠ‚çš„æ•°ç»„ã€‚

  ç»™å®šçš„å­—ç¬¦ä¸²åªèƒ½åŒ…å«åå…­è¿›åˆ¶å­—ç¬¦å¹¶ä¸”å¿…é¡»å…·æœ‰å¶æ•°é•¿åº¦ã€‚å¦‚æœå­—ç¬¦ä¸²æ ¼å¼é”™è¯¯ï¼Œç¨‹åºå°†ä¸­æ­¢

  

  ```cadence
  let example = "436164656e636521"
  
  example.decodeHex()  // is `[67, 97, 100, 101, 110, 99, 101, 33]`
  ```

è¯¥`String`ç±»å‹è¿˜æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

- 

  ```cadence
  fun String.encodeHex(_ data: [UInt8]): String
  ```

  

  è¿”å›ç»™å®šå­—èŠ‚æ•°ç»„çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²

  

  ```cadence
  let data = [1 as UInt8, 2, 3, 0xCA, 0xDE]
  
  String.encodeHex(data)  // is `"010203cade"`
  ```

## æ•°ç»„

æ•°ç»„æ˜¯å¯å˜çš„ã€æœ‰åºçš„å€¼é›†åˆã€‚æ•°ç»„å¯èƒ½å¤šæ¬¡åŒ…å«ä¸€ä¸ªå€¼ã€‚æ•°ç»„æ–‡å­—ä»¥å·¦æ–¹æ‹¬å·å¼€å¤´`[`ï¼Œä»¥å³æ–¹æ‹¬å·ç»“å°¾`]`ã€‚



```cadence
// An empty array
//
[]

// An array with integers
//
[1, 2, 3]
```

### æ•°ç»„ç±»å‹

æ•°ç»„è¦ä¹ˆå…·æœ‰å›ºå®šå¤§å°ï¼Œè¦ä¹ˆå…·æœ‰å¯å˜å¤§å°ï¼Œå³å¯ä»¥æ·»åŠ å’Œåˆ é™¤å…ƒç´ ã€‚

å›ºå®šå¤§å°çš„æ•°ç»„ç±»å‹çš„å½¢å¼ä¸º`[T; N]`ï¼Œå…¶ä¸­`T`æ˜¯å…ƒç´ ç±»å‹ï¼Œ`N`æ˜¯æ•°ç»„çš„å¤§å°ã€‚ `N`å¿…é¡»æ˜¯é™æ€å·²çŸ¥çš„ï¼Œè¿™æ„å‘³ç€å®ƒéœ€è¦æ˜¯ä¸€ä¸ªæ•´æ•°æ–‡å­—ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªåŒ…å« 3 ä¸ª`Int8`å…ƒç´ çš„å›ºå®šå¤§å°æ•°ç»„çš„ç±»å‹ä¸º`[Int8; 3]`ã€‚

å¯å˜å¤§å°æ•°ç»„ç±»å‹çš„å½¢å¼ä¸º`[T]`ï¼Œå…¶ä¸­`T`æ˜¯å…ƒç´ ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ type`[Int16]`æŒ‡å®šäº†ä¸€ä¸ªç”± typeå…ƒç´ ç»„æˆçš„å¯å˜å¤§å°æ•°ç»„`Int16`ã€‚

æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼éƒ½å¿…é¡»å…·æœ‰ä¸€ä¸ªç±»å‹ï¼Œè¯¥ç±»å‹æ˜¯æ•°ç»„å…ƒç´ ç±»å‹ ( `T`)çš„å­ç±»å‹ã€‚

äº†è§£æ•°ç»„æ˜¯å€¼ç±»å‹å¾ˆé‡è¦ï¼Œå¹¶ä¸”ä»…åœ¨ç”¨ä½œå¸¸é‡æˆ–å˜é‡çš„åˆå§‹å€¼ã€åˆ†é…ç»™å˜é‡æ—¶ã€ç”¨ä½œå‡½æ•°å‚æ•°æ—¶æˆ–ä»å‡½æ•°è°ƒç”¨è¿”å›æ—¶æ‰è¢«å¤åˆ¶ã€‚



```cadence
let size = 2
// Invalid: Array-size must be an integer literal
let numbers: [Int; size] = []

// Declare a fixed-sized array of integers
// which always contains exactly two elements.
//
let array: [Int8; 2] = [1, 2]

// Declare a fixed-sized array of fixed-sized arrays of integers.
// The inner arrays always contain exactly three elements,
// the outer array always contains two elements.
//
let arrays: [[Int16; 3]; 2] = [
    [1, 2, 3],
    [4, 5, 6]
]

// Declare a variable length array of integers
var variableLengthArray: [Int] = []

// Mixing values with different types is possible
// by declaring the expected array type
// with the common supertype of all values.
//
let mixedValues: [AnyStruct] = ["some string", 42]
```

æ•°ç»„ç±»å‹çš„å…ƒç´ ç±»å‹æ˜¯åå˜çš„ã€‚ä¾‹å¦‚ï¼Œ`[Int]`æ˜¯ çš„å­ç±»å‹`[AnyStruct]`ã€‚è¿™æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæ•°ç»„æ˜¯å€¼ç±»å‹è€Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚

### æ•°ç»„ç´¢å¼•

è¦è·å–ç‰¹å®šç´¢å¼•å¤„çš„æ•°ç»„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•è¯­æ³•ï¼šæ•°ç»„åè·Ÿå·¦æ–¹æ‹¬å·`[`ã€ç´¢å¼•å€¼ï¼Œå¹¶ä»¥å³æ–¹æ‹¬å· ç»“æŸ`]`ã€‚

æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä» 0 å¼€å§‹ã€‚

è®¿é—®è¶Šç•Œçš„å…ƒç´ ä¼šå¯¼è‡´è¿è¡Œæ—¶å‡ºç°è‡´å‘½é”™è¯¯å¹¶ä¸­æ­¢ç¨‹åºã€‚



```cadence
// Declare an array of integers.
let numbers = [42, 23]

// Get the first number of the array.
//
numbers[0] // is `42`

// Get the second number of the array.
//
numbers[1] // is `23`

// Run-time error: Index 2 is out of bounds, the program aborts.
//
numbers[2]
```



```cadence
// Declare an array of arrays of integers, i.e. the type is `[[Int]]`.
let arrays = [[1, 2], [3, 4]]

// Get the first number of the second array.
//
arrays[1][0] // is `3`
```

è¦åœ¨ç‰¹å®šç´¢å¼•å¤„è®¾ç½®æ•°ç»„å…ƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç´¢å¼•è¯­æ³•ã€‚

```cadence
// Declare an array of integers.
let numbers = [42, 23]

// Change the second number in the array.
//
// NOTE: The declaration `numbers` is constant, which means that
// the *name* is constant, not the *value* â€“ the value, i.e. the array,
// is mutable and can be changed.
//
numbers[1] = 2

// `numbers` is `[42, 2]`
```

### æ•°ç»„å­—æ®µå’Œå‡½æ•°

æ•°ç»„å…·æœ‰å¤šä¸ªå†…ç½®å­—æ®µå’Œå‡½æ•°ï¼Œå¯ç”¨äºè·å–æœ‰å…³æ•°ç»„å†…å®¹çš„ä¿¡æ¯å¹¶å¯¹å…¶è¿›è¡Œæ“ä½œã€‚

å­—æ®µ`length`ã€ å‡½æ•°`concat`ã€ å’Œ`contains` å¯ç”¨äºå¯å˜å¤§å°å’Œå›ºå®šå¤§å°æˆ–å¯å˜å¤§å°çš„æ•°ç»„ã€‚

- 

  ```cadence
  let length: Int
  ```

  

  æ•°ç»„ä¸­çš„å…ƒç´ æ•°ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23, 31, 12]
  
  // Find the number of elements of the array.
  let length = numbers.length
  
  // `length` is `4`
  ```
  
- 

  ```cadence
  fun concat(_ array: T): T
  ```

  

  å°†å‚æ•°è¿æ¥`array`åˆ°è°ƒç”¨å‡½æ•°çš„æ•°ç»„çš„æœ«å°¾ï¼Œä½†ä¸ä¿®æ”¹è¯¥æ•°ç»„ã€‚

  ä¸¤ä¸ªæ•°ç»„çš„ç±»å‹å¿…é¡»ç›¸åŒ`T`ã€‚

  æ­¤å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶é•¿åº¦æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„æ•°ç»„é•¿åº¦ä¸ä½œä¸ºå‚æ•°ç»™å‡ºçš„æ•°ç»„é•¿åº¦ä¹‹å’Œã€‚

  ```cadence
  // Declare two arrays of integers.
  let numbers = [42, 23, 31, 12]
  let moreNumbers = [11, 27]
  
  // Concatenate the array `moreNumbers` to the array `numbers`
  // and declare a new variable for the result.
  //
  let allNumbers = numbers.concat(moreNumbers)
  
  // `allNumbers` is `[42, 23, 31, 12, 11, 27]`
  // `numbers` is still `[42, 23, 31, 12]`
  // `moreNumbers` is still `[11, 27]`
  ```
  
- 

  ```cadence
  fun contains(_ element: T): Bool
  ```

  

  å¦‚æœç»™å®šçš„ type å…ƒç´ `T`åœ¨æ•°ç»„ä¸­ï¼Œåˆ™è¿”å› true ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23, 31, 12]
  
  // Check if the array contains 11.
  let containsEleven = numbers.contains(11)
  // `containsEleven` is `false`
  
  // Check if the array contains 12.
  let containsTwelve = numbers.contains(12)
  // `containsTwelve` is `true`
  
  // Invalid: Check if the array contains the string "Kitty".
  // This results in a type error, as the array only contains integers.
  //
  let containsKitty = numbers.contains("Kitty")
  ```

#### å¯å˜å¤§å°çš„æ•°ç»„å‡½æ•°

ä»¥ä¸‹å‡½æ•°åªèƒ½ç”¨äºå¯å˜å¤§å°çš„æ•°ç»„ã€‚åœ¨å›ºå®šå¤§å°çš„æ•°ç»„ä¸Šä½¿ç”¨è¿™äº›å‡½æ•°ä¹‹ä¸€æ˜¯æ— æ•ˆçš„ã€‚

- 

  ```cadence
  fun append(_ element: T): Void
  ```

  

  å°†`element`typeçš„æ–°å…ƒç´ æ·»åŠ `T`åˆ°æ•°ç»„çš„æœ«å°¾ã€‚

  æ–°å…ƒç´ çš„ç±»å‹å¿…é¡»ä¸æ•°ç»„ä¸­æ‰€æœ‰å…¶ä»–å…ƒç´ çš„ç±»å‹ç›¸åŒã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23, 31, 12]
  
  // Add a new element to the array.
  numbers.append(20)
  // `numbers` is now `[42, 23, 31, 12, 20]`
  
  // Invalid: The parameter has the wrong type `String`.
  numbers.append("SneakyString")
  ```
  
- 

  ```cadence
  fun appendAll(_ array: T): Void
  ```

  

  å°†æ‰€æœ‰å…ƒç´ æ·»åŠ `array`åˆ°è°ƒç”¨å‡½æ•°çš„æ•°ç»„æœ«å°¾ã€‚

  ä¸¤ä¸ªæ•°ç»„çš„ç±»å‹å¿…é¡»ç›¸åŒ`T`ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23]
  
  // Add new elements to the array.
  numbers.appendAll([31, 12, 20])
  // `numbers` is now `[42, 23, 31, 12, 20]`
  
  // Invalid: The parameter has the wrong type `[String]`.
  numbers.appendAll(["Sneaky", "String"])
  ```
  
- 

  ```cadence
  fun insert(at index: Int, _ element: T): Void
  ```

  

  åœ¨æ•°ç»„ çš„ç»™å®šå¤„æ’å…¥`element`typeçš„æ–°å…ƒç´ ã€‚`T``index`

  æ–°å…ƒç´ çš„ç±»å‹å¿…é¡»ä¸æ•°ç»„ä¸­çš„å…¶ä»–å…ƒç´ çš„ç±»å‹ç›¸åŒã€‚

  çš„`index`å¿…é¡»æ˜¯è¯¥é˜µåˆ—çš„ç•Œé™å†…ã€‚å¦‚æœç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œåˆ™ç¨‹åºä¸­æ­¢ã€‚

  æä¾›çš„ç´¢å¼•å¤„çš„ç°æœ‰å…ƒç´ ä¸ä¼šè¢«è¦†ç›–ã€‚

  æ–°æ’å…¥å…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ éƒ½å‘å³ç§»åŠ¨ä¸€ä½ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23, 31, 12]
  
  // Insert a new element at position 1 of the array.
  numbers.insert(at: 1, 20)
  // `numbers` is now `[42, 20, 23, 31, 12]`
  
  // Run-time error: Out of bounds index, the program aborts.
  numbers.insert(at: 12, 39)
  ```
  
- 

  ```cadence
  fun remove(at index: Int): T
  ```

  

  `index`ä»æ•°ç»„ä¸­åˆ é™¤ç»™å®šçš„å…ƒç´ å¹¶è¿”å›å®ƒã€‚

  çš„`index`å¿…é¡»æ˜¯è¯¥é˜µåˆ—çš„ç•Œé™å†…ã€‚å¦‚æœç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œåˆ™ç¨‹åºä¸­æ­¢ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23, 31]
  
  // Remove element at position 1 of the array.
  let twentyThree = numbers.remove(at: 1)
  // `numbers` is now `[42, 31]`
  // `twentyThree` is `23`
  
  // Run-time error: Out of bounds index, the program aborts.
  numbers.remove(at: 19)
  ```
  
- 

  ```cadence
  fun removeFirst(): T
  ```

  

  ä»æ•°ç»„ä¸­ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›å®ƒã€‚

  æ•°ç»„ä¸èƒ½ä¸ºç©ºã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œåˆ™ç¨‹åºä¸­æ­¢ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23]
  
  // Remove the first element of the array.
  let fortytwo = numbers.removeFirst()
  // `numbers` is now `[23]`
  // `fortywo` is `42`
  
  // Remove the first element of the array.
  let twentyThree = numbers.removeFirst()
  // `numbers` is now `[]`
  // `twentyThree` is `23`
  
  // Run-time error: The array is empty, the program aborts.
  numbers.removeFirst()
  ```
  
- 

  ```cadence
  fun removeLast(): T
  ```

  

  ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ å¹¶è¿”å›å®ƒã€‚

  æ•°ç»„ä¸èƒ½ä¸ºç©ºã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œåˆ™ç¨‹åºä¸­æ­¢ã€‚

  ```cadence
  // Declare an array of integers.
  let numbers = [42, 23]
  
  // Remove the last element of the array.
  let twentyThree = numbers.removeLast()
  // `numbers` is now `[42]`
  // `twentyThree` is `23`
  
  // Remove the last element of the array.
  let fortyTwo = numbers.removeLast()
  // `numbers` is now `[]`
  // `fortyTwo` is `42`
  
  // Run-time error: The array is empty, the program aborts.
  numbers.removeLast()
  ```

## å­—å…¸

å­—å…¸æ˜¯é”®å€¼å…³è”çš„å¯å˜çš„ã€æ— åºçš„é›†åˆã€‚å­—å…¸å¯èƒ½åªåŒ…å«ä¸€æ¬¡é”®ï¼Œä¹Ÿå¯èƒ½å¤šæ¬¡åŒ…å«ä¸€ä¸ªå€¼ã€‚

å­—å…¸æ–‡å­—ä»¥å·¦å¤§æ‹¬å·å¼€å§‹ï¼Œä»¥å³å¤§æ‹¬å·`{` ç»“æŸ`}`ã€‚é”®ä¸å€¼ä¹‹é—´ç”¨å†’å·åˆ†éš”ï¼Œé”®å€¼å…³è”ç”¨é€—å·åˆ†éš”ã€‚

```cadence
// An empty dictionary
//
{}

// A dictionary which associates integers with booleans
//
{
    1: true,
    2: false
}
```

### å­—å…¸ç±»å‹

å­—å…¸ç±»å‹çš„å½¢å¼ä¸º`{K: V}`ï¼Œå…¶ä¸­`K`æ˜¯é”®`V`çš„ç±»å‹ï¼Œ æ˜¯å€¼çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¸¦æœ‰`Int`é”®å’Œ`Bool` å€¼çš„å­—å…¸çš„ç±»å‹ä¸º`{Int: Bool}`ã€‚

åœ¨å­—å…¸ä¸­ï¼Œæ‰€æœ‰é”®çš„ç±»å‹å¿…é¡»æ˜¯å­—å…¸çš„é”®ç±»å‹ ( `K`) çš„å­ç±»å‹ï¼Œæ‰€æœ‰å€¼çš„ç±»å‹å¿…é¡»æ˜¯å­—å…¸çš„å€¼ç±»å‹ ( `V`)çš„å­ç±»å‹ã€‚

```cadence
// Declare a constant that has type `{Int: Bool}`,
// a dictionary mapping integers to booleans.
//
let booleans = {
    1: true,
    0: false
}

// Declare a constant that has type `{Bool: Int}`,
// a dictionary mapping booleans to integers.
//
let integers = {
    true: 1,
    false: 0
}

// Mixing keys with different types, and mixing values with different types,
// is possible by declaring the expected dictionary type with the common supertype
// of all keys, and the common supertype of all values.
//
let mixedValues: {String: AnyStruct} = {
    "a": 1,
    "b": true
}
```

å­—å…¸ç±»å‹çš„é”®å’Œå€¼ç±»å‹æ˜¯åå˜çš„ã€‚ä¾‹å¦‚ï¼Œ`{Int: String}`æ˜¯ çš„å­ç±»å‹ï¼Œ`{AnyStruct: String}` ä¹Ÿæ˜¯ çš„å­ç±»å‹`{Int: AnyStruct}`ã€‚è¿™æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå­—å…¸æ˜¯å€¼ç±»å‹è€Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚

### å­—å…¸è®¿é—®

è¦ä»å­—å…¸ä¸­è·å–ç‰¹å®šé”®çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨è®¿é—®è¯­æ³•ï¼šå­—å…¸åè·Ÿä¸€ä¸ªå·¦æ–¹æ‹¬å·`[`ï¼Œé”®ï¼Œå¹¶ä»¥å³æ–¹æ‹¬å·ç»“æŸ`]`ã€‚

è®¿é—®é”®è¿”å›ä¸€ä¸ª[å¯é€‰çš„](https://docs.onflow.org/cadence/language/values-and-types/#optionals)ï¼šå¦‚æœåœ¨å­—å…¸ä¸­æ‰¾åˆ°é”®ï¼Œåˆ™è¿”å›ç»™å®šé”®çš„å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°é”®ï¼Œ`nil`åˆ™è¿”å›ã€‚

```cadence
// Declare a constant that has type `{Int: Bool}`,
// a dictionary mapping integers to booleans.
//
let booleans = {
    1: true,
    0: false
}

// The result of accessing a key has type `Bool?`.
//
booleans[1]  // is `true`
booleans[0]  // is `false`
booleans[2]  // is `nil`

// Invalid: Accessing a key which does not have type `Int`.
//
booleans["1"]
```

```cadence
// Declare a constant that has type `{Bool: Int}`,
// a dictionary mapping booleans to integers.
//
let integers = {
    true: 1,
    false: 0
}

// The result of accessing a key has type `Int?`
//
integers[true] // is `1`
integers[false] // is `0`
```

è¦è®¾ç½®å­—å…¸é”®çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è®¿é—®è¯­æ³•ã€‚

```cadence
// Declare a constant that has type `{Int: Bool}`,
// a dictionary mapping booleans to integers.
//
let booleans = {
    1: true,
    0: false
}

// Assign new values for the keys `1` and `0`.
//
booleans[1] = false
booleans[0] = true
// `booleans` is `{1: false, 0: true}`
```

### å­—å…¸å­—æ®µå’Œå‡½æ•°

- 

  ```cadence
  let length: Int
  ```

  

  å­—å…¸ä¸­çš„æ¡ç›®æ•°ã€‚

  ```cadence
  // Declare a dictionary mapping strings to integers.
  let numbers = {"fortyTwo": 42, "twentyThree": 23}
  
  // Find the number of entries of the dictionary.
  let length = numbers.length
  
  // `length` is `2`
  ```
  
- 

  ```cadence
  fun insert(key: K, _ value: V): V?
  ```

  

  å°† type çš„ç»™å®šå€¼æ’å…¥åˆ° type ç»™å®šä¸‹çš„`V`å­—å…¸`key`ä¸­`K`ã€‚

  å¦‚æœå­—å…¸åŒ…å«é”®ï¼Œåˆ™è¿”å›å‰ä¸€ä¸ªå€¼ä½œä¸ºå¯é€‰å€¼ï¼Œå¦åˆ™è¿”å›`nil`ã€‚

  ```cadence
  // Declare a dictionary mapping strings to integers.
  let numbers = {"twentyThree": 23}
  
  // Insert the key `"fortyTwo"` with the value `42` into the dictionary.
  // The key did not previously exist in the dictionary,
  // so the result is `nil`
  //
  let old = numbers.insert(key: "fortyTwo", 42)
  
  // `old` is `nil`
  // `numbers` is `{"twentyThree": 23, "fortyTwo": 42}`
  ```
  
- 

  ```cadence
  fun remove(key: K): V?
  ```

  

  ä»å­—å…¸ä¸­åˆ é™¤ç»™å®š`key`ç±»å‹çš„å€¼`K`ã€‚

  `V`å¦‚æœå­—å…¸åŒ…å«é”®ï¼Œåˆ™è¿”å› type çš„å€¼ä½œä¸ºå¯é€‰é¡¹ï¼Œå¦åˆ™è¿”å›`nil`.

  ```cadence
  // Declare a dictionary mapping strings to integers.
  let numbers = {"fortyTwo": 42, "twentyThree": 23}
  
  // Remove the key `"fortyTwo"` from the dictionary.
  // The key exists in the dictionary,
  // so the value associated with the key is returned.
  //
  let fortyTwo = numbers.remove(key: "fortyTwo")
  
  // `fortyTwo` is `42`
  // `numbers` is `{"twentyThree": 23}`
  
  // Remove the key `"oneHundred"` from the dictionary.
  // The key does not exist in the dictionary, so `nil` is returned.
  //
  let oneHundred = numbers.remove(key: "oneHundred")
  
  // `oneHundred` is `nil`
  // `numbers` is `{"twentyThree": 23}`
  ```
  
- 

  ```cadence
  let keys: [K]
  ```

  

  è¿”å›`K`å­—å…¸ä¸­ç±»å‹é”®çš„æ•°ç»„ã€‚è¿™ä¸ä¼šä¿®æ”¹å­—å…¸ï¼Œåªæ˜¯å°†é”®çš„å‰¯æœ¬ä½œä¸ºæ•°ç»„è¿”å›ã€‚å¦‚æœå­—å…¸ä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚

  ```cadence
  // Declare a dictionary mapping strings to integers.
  let numbers = {"fortyTwo": 42, "twentyThree": 23}
  
  // Find the keys of the dictionary.
  let keys = numbers.keys
  
  // `keys` has type `[String]` and is `["fortyTwo","twentyThree"]`
  ```
  
- 

  ```cadence
  let values: [V]
  ```

  

  è¿”å›`V`å­—å…¸ä¸­ç±»å‹å€¼çš„æ•°ç»„ã€‚è¿™ä¸ä¼šä¿®æ”¹å­—å…¸ï¼Œåªæ˜¯å°†å€¼çš„å‰¯æœ¬ä½œä¸ºæ•°ç»„è¿”å›ã€‚å¦‚æœå­—å…¸ä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚

  å¦‚æœ`V`æ˜¯èµ„æºç±»å‹ï¼Œåˆ™æ­¤å­—æ®µä¸å¯ç”¨ã€‚

  ```cadence
  // Declare a dictionary mapping strings to integers.
  let numbers = {"fortyTwo": 42, "twentyThree": 23}
  
  // Find the values of the dictionary.
  let values = numbers.values
  
  // `values` has type [Int] and is `[42, 23]`
  ```
  
- 

  ```cadence
  fun containsKey(key: K): Bool
  ```

  

  å¦‚æœç»™å®šçš„ type é”®`K`åœ¨å­—å…¸ä¸­ï¼Œåˆ™è¿”å› true ã€‚

  ```cadence
  // Declare a dictionary mapping strings to integers.
  let numbers = {"fortyTwo": 42, "twentyThree": 23}
  
  // Check if the dictionary contains the key "twentyFive".
  let containsKeyTwentyFive = numbers.containsKey("twentyFive")
  // `containsKeyTwentyFive` is `false`
  
  // Check if the dictionary contains the key "fortyTwo".
  let containsKeyFortyTwo = numbers.containsKey("fortyTwo")
  // `containsKeyFortyTwo` is `true`
  
  // Invalid: Check if the dictionary contains the key 42.
  // This results in a type error, as the key type of the dictionary is `String`.
  //
  let containsKey42 = numbers.containsKey(42)
  ```

### å­—å…¸é”®

å­—å…¸é”®å¿…é¡»æ˜¯å¯æ•£åˆ—å’Œå¯ç›¸ç­‰çš„ï¼Œå³å¿…é¡»å®ç°[`Hashable`](https://docs.onflow.org/cadence/language/interfaces#hashable-interface) å’Œ[æ¥å£](https://docs.onflow.org/cadence/language/interfaces)ã€‚[`Equatable`](https://docs.onflow.org/cadence/language/interfaces#equatable-interface)

å¤§å¤šæ•°å†…ç½®ç±»å‹ï¼Œå¦‚å¸ƒå°”å€¼å’Œæ•´æ•°ï¼Œéƒ½æ˜¯å¯æ•£åˆ—å’Œå¯ç›¸ç­‰çš„ï¼Œå› æ­¤å¯ä»¥ç”¨ä½œå­—å…¸ä¸­çš„é”®ã€‚